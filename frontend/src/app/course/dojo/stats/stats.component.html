<h2>Overview of Users</h2>

<a [routerLink]="['/corrections']"><button mat-button>Corrections</button></a>

<h3>Questionnaire title is {{title}}</h3>

<div *ngIf="users.length > 0">
  <table style="width: 100%">
    <tr>
      <th style="width: 10em;">Name</th>
      <th style="width: 2em;" *ngFor="let row of displayedColumns; index as i">{{i+1}}</th>
    </tr>
    @for (user of users; track $index){
    <tr>
      <td>{{user.name.slice(0, 20)}}</td>
      @for (choice of user.answers; track idx; let idx = $index, e = $even){
      <td [class]="selectedClasses[$index][idx]"></td>
      }
    </tr>
    }
  </table>
</div>