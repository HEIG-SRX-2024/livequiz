<h2>{{answers.questionnaire.chapter}}</h2>
<mat-form-field>
    <mat-label>Your name:</mat-label>
    <input matInput [(ngModel)]="user.name" (keyup)="updateName()">
</mat-form-field>

<div *ngIf="!answers.empty">
    <div style="display: grid; grid-template-columns: auto 1fr auto; margin: 1em 0 1em; width: 100%;">
        <button mat-button [disabled]="answers.first" (click)="previous()"
            style="margin: auto 1em auto; height: 2em;">Previous</button>
        <mat-grid-list [cols]="gridWidth(answers.questionnaire.questions.length)" rowHeight="2em">
            @for (q of answers.questionnaire.questions; track $index) {
            <mat-grid-tile (click)="goto($index)" [class]="tileClasses[$index]">{{$index+1}}</mat-grid-tile>
            }
        </mat-grid-list>
        <button mat-button [disabled]="answers.last" (click)="next()"
            style="margin: auto 0 auto 1em; height: 2em;">Next</button>
    </div>

    <app-exercise [answer]="answer!" [showResults]="showResults" (selectionChange)="updateSelection($event)"></app-exercise>
</div>